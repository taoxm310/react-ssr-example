!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/",n(n.s=12)}([function(e,t){e.exports=require("react")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fetchPopularRepos=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"all",t=encodeURI("https://api.github.com/search/repositories?q=stars:>1+language:"+e+"&sort=stars&order=desc&type=Repositories");return(0,a.default)(t).then(function(e){return e.json()}).then(function(e){return e.items}).catch(function(e){return console.warn(e),null})};var r,o=n(6),a=(r=o)&&r.__esModule?r:{default:r}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(0),u=(r=a)&&r.__esModule?r:{default:r};var l=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),r=void 0;return r=e.staticContext.data,n.state={repos:r,loading:!r},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),o(t,[{key:"fetchRepos",value:function(e){var t=this;this.setState(function(){return{loading:!0}}),this.props.fetchInitialData(e).then(function(e){return t.setState(function(){return{repos:e,loading:!1}})})}},{key:"componentDidMount",value:function(){this.state.repos||this.fetchRepos(this.props.match.params.id)}},{key:"componentDidUpdate",value:function(e,t){e.match.params.id!==this.props.match.params.id&&this.fetchRepos(this.props.match.params.id)}},{key:"render",value:function(){var e=this.state,t=e.repos;return e.loading?u.default.createElement("p",null,"LOADING..."):u.default.createElement("ul",{style:{display:"flex",flexWrap:"wrap"}},t.map(function(e){var t=e.name,n=e.owner,r=e.stargazers_count,o=e.html_url;return u.default.createElement("li",{key:t,style:{margin:30}},u.default.createElement("ul",null,u.default.createElement("li",null,u.default.createElement("a",{href:o},t)),u.default.createElement("li",null,"@",n.login),u.default.createElement("li",null,r," starts")))}))}}]),t}();t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return a.default.createElement("div",null,"Select a Language")};var r,o=n(0),a=(r=o)&&r.__esModule?r:{default:r}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=u(n(3)),o=u(n(2)),a=n(1);function u(e){return e&&e.__esModule?e:{default:e}}var l=[{path:"/",exact:!0,component:r.default},{path:"/popular/:id",component:o.default,fetchInitialData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,a.fetchPopularRepos)(e.split("/").pop())}}];t.default=l},function(e,t){e.exports=require("react-router-dom")},function(e,t){e.exports=require("isomorphic-fetch")},function(e,t){e.exports=require("serialize-javascript")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(0),u=s(a),l=n(5),i=s(n(14)),c=s(n(13)),f=s(n(4));function s(e){return e&&e.__esModule?e:{default:e}}var p=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),o(t,[{key:"render",value:function(){return u.default.createElement("div",null,u.default.createElement(i.default,null),u.default.createElement(l.Switch,null,f.default.map(function(e){var t=e.path,n=e.exact,o=e.component,a=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["path","exact","component"]);return u.default.createElement(l.Route,{key:t,path:t,exact:n,render:function(e){return u.default.createElement(o,r({},e,a))}})}),u.default.createElement(l.Route,{render:function(e){return u.default.createElement(c.default,e)}})))}}]),t}();t.default=p},function(e,t){e.exports=require("react-dom/server")},function(e,t){e.exports=require("cors")},function(e,t){e.exports=require("express")},function(e,t,n){"use strict";var r=s(n(11)),o=s(n(10)),a=n(9),u=s(n(8)),l=s(n(0)),i=s(n(7)),c=n(5),f=s(n(4));function s(e){return e&&e.__esModule?e:{default:e}}var p=(0,r.default)();p.use((0,o.default)()),p.use(r.default.static("public")),p.get("*",function(e,t,n){var r=f.default.find(function(t){return(0,c.matchPath)(e.url,t)})||{};(r.fetchInitialData?r.fetchInitialData(e.path):Promise.resolve()).then(function(n){var r={data:n},o=(0,a.renderToString)(l.default.createElement(c.StaticRouter,{location:e.url,context:r},l.default.createElement(u.default,{data:n})));t.send('\n      <!DOCTYPE html>\n      <html>\n        <head>\n          <title>SSR with RR</title>\n          <script src="/bundle.js" defer><\/script>\n          <script>window.__INITIAL_DATA__ = '+(0,i.default)(n)+'<\/script>\n        </head>\n\n        <body>\n          <div id="app">'+o+"</div>\n        </body>\n      </html>\n    ")}).catch(n)}),p.listen(3e3,function(){console.log("Server is listening on port: 3000")})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return a.default.createElement("div",null,"Four Oh Four")};var r,o=n(0),a=(r=o)&&r.__esModule?r:{default:r}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return a.default.createElement("ul",null,[{name:"All",param:"all"},{name:"Javascript",param:"javascript"},{name:"Ruby",param:"ruby"},{name:"Python",param:"python"},{name:"Java",param:"java"}].map(function(e){var t=e.name,n=e.param;return a.default.createElement("li",{key:n},a.default.createElement(u.NavLink,{activeStyle:{fontWeight:"bold"},to:"/popular/"+n},t))}))};var r,o=n(0),a=(r=o)&&r.__esModule?r:{default:r},u=n(5)}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vL2V4dGVybmFsIFwicmVhY3RcIiIsIndlYnBhY2s6Ly8vLi9zcmMvc2hhcmVkL2FwaS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvc2hhcmVkL0dyaWQuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3NoYXJlZC9Ib21lLmpzIiwid2VicGFjazovLy8uL3NyYy9zaGFyZWQvcm91dGVzLmpzIiwid2VicGFjazovLy9leHRlcm5hbCBcInJlYWN0LXJvdXRlci1kb21cIiIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJpc29tb3JwaGljLWZldGNoXCIiLCJ3ZWJwYWNrOi8vL2V4dGVybmFsIFwic2VyaWFsaXplLWphdmFzY3JpcHRcIiIsIndlYnBhY2s6Ly8vLi9zcmMvc2hhcmVkL0FwcC5qcyIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJyZWFjdC1kb20vc2VydmVyXCIiLCJ3ZWJwYWNrOi8vL2V4dGVybmFsIFwiY29yc1wiIiwid2VicGFjazovLy9leHRlcm5hbCBcImV4cHJlc3NcIiIsIndlYnBhY2s6Ly8vLi9zcmMvc2VydmVyL2luZGV4LmpzIiwid2VicGFjazovLy8uL3NyYy9zaGFyZWQvTm9NYXRjaC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvc2hhcmVkL05hdmJhci5qcyJdLCJuYW1lcyI6WyJpbnN0YWxsZWRNb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiZXhwb3J0cyIsIm1vZHVsZSIsImkiLCJsIiwibW9kdWxlcyIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwidCIsIm1vZGUiLCJfX2VzTW9kdWxlIiwibnMiLCJjcmVhdGUiLCJrZXkiLCJiaW5kIiwibiIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsInJlcXVpcmUiLCJmZXRjaFBvcHVsYXJSZXBvcyIsImxhbmd1YWdlIiwiYXJndW1lbnRzIiwibGVuZ3RoIiwidW5kZWZpbmVkIiwiZW5jb2RlZFVSSSIsImVuY29kZVVSSSIsIl9pc29tb3JwaGljRmV0Y2gyIiwiZGVmYXVsdCIsInRoZW4iLCJkYXRhIiwianNvbiIsInJlcG9zIiwiaXRlbXMiLCJjYXRjaCIsImVycm9yIiwiY29uc29sZSIsIndhcm4iLCJfaXNvbW9ycGhpY0ZldGNoIiwiX3JlYWN0IiwiR3JpZCIsInByb3BzIiwiX2NsYXNzQ2FsbENoZWNrIiwidGhpcyIsIl90aGlzIiwiX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4iLCJfX3Byb3RvX18iLCJnZXRQcm90b3R5cGVPZiIsInN0YXRpY0NvbnRleHQiLCJzdGF0ZSIsImxvYWRpbmciLCJDb21wb25lbnQiLCJsYW5nIiwiX3RoaXMyIiwic2V0U3RhdGUiLCJmZXRjaEluaXRpYWxEYXRhIiwiZmV0Y2hSZXBvcyIsIm1hdGNoIiwicGFyYW1zIiwiaWQiLCJwcmV2UHJvcHMiLCJwcmV2U3RhdGUiLCJfc3RhdGUiLCJfcmVhY3QyIiwiY3JlYXRlRWxlbWVudCIsInN0eWxlIiwiZGlzcGxheSIsImZsZXhXcmFwIiwibWFwIiwiX3JlZiIsIm93bmVyIiwic3RhcmdhemVyc19jb3VudCIsImh0bWxfdXJsIiwibWFyZ2luIiwiaHJlZiIsImxvZ2luIiwiX2FwaSIsInJvdXRlcyIsInBhdGgiLCJleGFjdCIsImNvbXBvbmVudCIsIkhvbWUiLCJzcGxpdCIsInBvcCIsIl9yZWFjdFJvdXRlckRvbSIsIkFwcCIsIl9OYXZiYXIyIiwiU3dpdGNoIiwiQyIsInJlc3QiLCJfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMiLCJSb3V0ZSIsInJlbmRlciIsIl9leHRlbmRzIiwiX05vTWF0Y2gyIiwiX3NlcnZlciIsImFwcCIsIl9leHByZXNzMiIsInVzZSIsIl9jb3JzMiIsImV4cHJlc3MiLCJzdGF0aWMiLCJyZXEiLCJyZXMiLCJuZXh0IiwiYWN0aXZlUm91dGUiLCJmaW5kIiwicm91dGUiLCJtYXRjaFBhdGgiLCJ1cmwiLCJQcm9taXNlIiwicmVzb2x2ZSIsImNvbnRleHQiLCJtYXJrdXAiLCJyZW5kZXJUb1N0cmluZyIsIlN0YXRpY1JvdXRlciIsImxvY2F0aW9uIiwiX0FwcDIiLCJzZW5kIiwiX3NlcmlhbGl6ZUphdmFzY3JpcHQyIiwibGlzdGVuIiwibG9nIiwicGFyYW0iLCJOYXZMaW5rIiwiYWN0aXZlU3R5bGUiLCJmb250V2VpZ2h0IiwidG8iXSwibWFwcGluZ3MiOiJhQUNBLElBQUFBLEtBR0EsU0FBQUMsRUFBQUMsR0FHQSxHQUFBRixFQUFBRSxHQUNBLE9BQUFGLEVBQUFFLEdBQUFDLFFBR0EsSUFBQUMsRUFBQUosRUFBQUUsSUFDQUcsRUFBQUgsRUFDQUksR0FBQSxFQUNBSCxZQVVBLE9BTkFJLEVBQUFMLEdBQUFNLEtBQUFKLEVBQUFELFFBQUFDLElBQUFELFFBQUFGLEdBR0FHLEVBQUFFLEdBQUEsRUFHQUYsRUFBQUQsUUFLQUYsRUFBQVEsRUFBQUYsRUFHQU4sRUFBQVMsRUFBQVYsRUFHQUMsRUFBQVUsRUFBQSxTQUFBUixFQUFBUyxFQUFBQyxHQUNBWixFQUFBYSxFQUFBWCxFQUFBUyxJQUNBRyxPQUFBQyxlQUFBYixFQUFBUyxHQUEwQ0ssWUFBQSxFQUFBQyxJQUFBTCxLQUsxQ1osRUFBQWtCLEVBQUEsU0FBQWhCLEdBQ0Esb0JBQUFpQixlQUFBQyxhQUNBTixPQUFBQyxlQUFBYixFQUFBaUIsT0FBQUMsYUFBd0RDLE1BQUEsV0FFeERQLE9BQUFDLGVBQUFiLEVBQUEsY0FBaURtQixPQUFBLEtBUWpEckIsRUFBQXNCLEVBQUEsU0FBQUQsRUFBQUUsR0FFQSxHQURBLEVBQUFBLElBQUFGLEVBQUFyQixFQUFBcUIsSUFDQSxFQUFBRSxFQUFBLE9BQUFGLEVBQ0EsS0FBQUUsR0FBQSxpQkFBQUYsUUFBQUcsV0FBQSxPQUFBSCxFQUNBLElBQUFJLEVBQUFYLE9BQUFZLE9BQUEs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WUF0QkV0RSxLQUFLLE1BQ0xnSSxNQUFNLFFBR05oSSxLQUFLLGFBQ0xnSSxNQUFNLGVBR05oSSxLQUFLLE9BQ0xnSSxNQUFNLFNBR05oSSxLQUFLLFNBQ0xnSSxNQUFNLFdBR05oSSxLQUFLLE9BQ0xnSSxNQUFNLFNBT0l0RCxJQUFJLFNBQUFDLEdBQUEsSUFBRTNFLEVBQUYyRSxFQUFFM0UsS0FBTWdJLEVBQVJyRCxFQUFRcUQsTUFBUixPQUNaM0QsRUFBQW5DLFFBQUFvQyxjQUFBLE1BQUl0RCxJQUFLZ0gsR0FDUDNELEVBQUFuQyxRQUFBb0MsY0FBQ29CLEVBQUF1QyxTQUFRQyxhQUFjQyxXQUFXLFFBQVNDLEdBQUEsWUFBZ0JKLEdBQ3ZEaEksUUFqQ2QsTUFBQTZDLEVBQUF4RCxFQUFBLHVDQUNBcUcsRUFBQXJHLEVBQUEiLCJmaWxlIjoic2VydmVyLmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCIvXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSAxMik7XG4iLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJyZWFjdFwiKTsiLCJpbXBvcnQgZmV0Y2ggZnJvbSAnaXNvbW9ycGhpYy1mZXRjaCdcblxuZXhwb3J0IGZ1bmN0aW9uIGZldGNoUG9wdWxhclJlcG9zKGxhbmd1YWdlID0gJ2FsbCcpIHtcbiAgY29uc3QgZW5jb2RlZFVSSSA9IGVuY29kZVVSSShgaHR0cHM6Ly9hcGkuZ2l0aHViLmNvbS9zZWFyY2gvcmVwb3NpdG9yaWVzP3E9c3RhcnM6PjErbGFuZ3VhZ2U6JHtsYW5ndWFnZX0mc29ydD1zdGFycyZvcmRlcj1kZXNjJnR5cGU9UmVwb3NpdG9yaWVzYClcblxuICByZXR1cm4gZmV0Y2goZW5jb2RlZFVSSSlcbiAgICAudGhlbigoZGF0YSkgPT4gZGF0YS5qc29uKCkpXG4gICAgLnRoZW4oKHJlcG9zKSA9PiByZXBvcy5pdGVtcylcbiAgICAuY2F0Y2goKGVycm9yKSA9PiB7XG4gICAgICBjb25zb2xlLndhcm4oZXJyb3IpXG4gICAgICByZXR1cm4gbnVsbFxuICAgIH0pO1xufSIsImltcG9ydCBSZWFjdCwgeyBDb21wb25lbnQgfSBmcm9tICdyZWFjdCc7XG5cbmNsYXNzIEdyaWQgZXh0ZW5kcyBDb21wb25lbnQge1xuICBjb25zdHJ1Y3RvciAocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcylcbiAgICBsZXQgcmVwb3NcbiAgICBpZiAoX19pc0Jyb3dzZXJfXykge1xuICAgICAgcmVwb3MgPSB3aW5kb3cuX19JTklUSUFMX0RBVEFfX1xuICAgICAgZGVsZXRlIFdpbmRvdy5fX0lOSVRJQUxfREFUQV9fXG4gICAgfSBlbHNlIHtcbiAgICAgIHJlcG9zID0gcHJvcHMuc3RhdGljQ29udGV4dC5kYXRhXG4gICAgfVxuXG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIHJlcG9zLFxuICAgICAgbG9hZGluZzpyZXBvcyA/IGZhbHNlOiB0cnVlXG4gICAgfVxuICB9XG4gIGZldGNoUmVwb3MgKGxhbmcpIHtcbiAgICB0aGlzLnNldFN0YXRlKCgpID0+ICh7XG4gICAgICBsb2FkaW5nOnRydWVcbiAgICB9KSlcblxuICAgIHRoaXMucHJvcHMuZmV0Y2hJbml0aWFsRGF0YShsYW5nKVxuICAgICAgLnRoZW4oKHJlcG9zKSA9PiB0aGlzLnNldFN0YXRlKCgpID0+ICh7XG4gICAgICAgICAgcmVwb3MsXG4gICAgICAgICAgbG9hZGluZzpmYWxzZVxuICAgICAgICB9KSkpXG4gIH1cbiAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgaWYgKCEgdGhpcy5zdGF0ZS5yZXBvcykge1xuICAgICAgdGhpcy5mZXRjaFJlcG9zKHRoaXMucHJvcHMubWF0Y2gucGFyYW1zLmlkKVxuICAgIH1cbiAgfVxuICBjb21wb25lbnREaWRVcGRhdGUgKHByZXZQcm9wcywgcHJldlN0YXRlKSB7XG4gICAgaWYgKHByZXZQcm9wcy5tYXRjaC5wYXJhbXMuaWQgIT09IHRoaXMucHJvcHMubWF0Y2gucGFyYW1zLmlkKSB7XG4gICAgICB0aGlzLmZldGNoUmVwb3ModGhpcy5wcm9wcy5tYXRjaC5wYXJhbXMuaWQpXG4gICAgfVxuICB9XG4gIHJlbmRlciAoKSB7XG4gICAgY29uc3QgeyByZXBvcywgbG9hZGluZyB9ID0gdGhpcy5zdGF0ZVxuICAgIGlmIChsb2FkaW5nKSB7XG4gICAgICByZXR1cm4gPHA+TE9BRElORy4uLjwvcD5cbiAgICB9XG4gICAgcmV0dXJuIChcbiAgICAgIDx1bCBzdHlsZT17e2Rpc3BsYXk6J2ZsZXgnLCBmbGV4V3JhcDogJ3dyYXAnfX0+XG4gICAgICAgIHsgcmVwb3MubWFwKCh7bmFtZSxvd25lcixzdGFyZ2F6ZXJzX2NvdW50LCBodG1sX3VybH0pID0+IChcbiAgICAgICAgICA8bGkga2V5PXtuYW1lfSBzdHlsZT17e21hcmdpbjozMH19PlxuICAgICAgICAgICAgPHVsPlxuICAgICAgICAgICAgICA8bGk+PGEgaHJlZj17aHRtbF91cmx9PntuYW1lfTwvYT48L2xpPlxuICAgICAgICAgICAgICA8bGk+QHtvd25lci5sb2dpbn08L2xpPlxuICAgICAgICAgICAgICA8bGk+e3N0YXJnYXplcnNfY291bnR9IHN0YXJ0czwvbGk+XG4gICAgICAgICAgICA8L3VsPlxuICAgICAgICAgIDwvbGk+XG4gICAgICAgICkpfVxuICAgICAgPC91bD5cbiAgICApXG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgR3JpZCIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uICBIb21lKCkge1xuICByZXR1cm4gKFxuICAgIDxkaXY+U2VsZWN0IGEgTGFuZ3VhZ2U8L2Rpdj5cbiAgKVxufVxuXG4iLCJpbXBvcnQgSG9tZSBmcm9tICcuL0hvbWUnO1xuaW1wb3J0IEdyaWQgZnJvbSAnLi9HcmlkJztcbmltcG9ydCB7IGZldGNoUG9wdWxhclJlcG9zIH0gZnJvbSAnLi9hcGknO1xuXG5jb25zdCByb3V0ZXMgPSBbXG4gIHtcbiAgICBwYXRoOicvJyxcbiAgICBleGFjdDp0cnVlLFxuICAgIGNvbXBvbmVudDpIb21lLFxuICB9LFxuICB7XG4gICAgcGF0aDonL3BvcHVsYXIvOmlkJyxcbiAgICBjb21wb25lbnQ6R3JpZCxcbiAgICBmZXRjaEluaXRpYWxEYXRhOihwYXRoPScnKT0+XG4gICAgZmV0Y2hQb3B1bGFyUmVwb3MocGF0aC5zcGxpdCgnLycpLnBvcCgpKVxuICB9XG5dXG5cbmV4cG9ydCBkZWZhdWx0IHJvdXRlcyIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcInJlYWN0LXJvdXRlci1kb21cIik7IiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiaXNvbW9ycGhpYy1mZXRjaFwiKTsiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJzZXJpYWxpemUtamF2YXNjcmlwdFwiKTsiLCJpbXBvcnQgUmVhY3QsIHsgQ29tcG9uZW50IH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgUm91dGUsIFN3aXRjaCB9IGZyb20gJ3JlYWN0LXJvdXRlci1kb20nO1xuaW1wb3J0IE5hdmJhciBmcm9tICcuL05hdmJhcic7XG5pbXBvcnQgTm9NYXRjaCBmcm9tICcuL05vTWF0Y2gnO1xuaW1wb3J0IHJvdXRlcyBmcm9tICcuL3JvdXRlcyc7XG5cblxuY2xhc3MgQXBwIGV4dGVuZHMgQ29tcG9uZW50IHtcbiAgcmVuZGVyICgpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdj5cbiAgICAgIDxOYXZiYXIvPlxuICAgICAgPFN3aXRjaD5cbiAgICAgICAge3JvdXRlcy5tYXAoKHsgcGF0aCwgZXhhY3QsIGNvbXBvbmVudDpDLCAuLi5yZXN0fSkgPT4gKFxuICAgICAgICAgIDxSb3V0ZVxuICAgICAgICAgICAga2V5PXtwYXRofVxuICAgICAgICAgICAgcGF0aD17cGF0aH1cbiAgICAgICAgICAgIGV4YWN0PXtleGFjdH1cbiAgICAgICAgICAgIHJlbmRlciA9IHsocHJvcHMpID0+IChcbiAgICAgICAgICAgICAgPEMgey4uLnByb3BzfSB7Li4ucmVzdH0vPlxuICAgICAgICAgICAgKX1cbiAgICAgICAgICAvPlxuICAgICAgICApKX1cbiAgICAgICAgPFJvdXRlIHJlbmRlciA9IHsocHJvcHMpID0+IDxOb01hdGNoIHsuLi5wcm9wc30vPn0+PC9Sb3V0ZT5cbiAgICAgIDwvU3dpdGNoPlxuICAgICAgPC9kaXY+XG4gICAgKVxuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IEFwcCIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcInJlYWN0LWRvbS9zZXJ2ZXJcIik7IiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiY29yc1wiKTsiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJleHByZXNzXCIpOyIsImltcG9ydCBleHByZXNzIGZyb20gJ2V4cHJlc3MnO1xuaW1wb3J0IGNvcnMgZnJvbSBcImNvcnNcIjtcbmltcG9ydCB7IHJlbmRlclRvU3RyaW5nIH0gZnJvbSAncmVhY3QtZG9tL3NlcnZlcic7XG5pbXBvcnQgQXBwIGZyb20gJy4uL3NoYXJlZC9BcHAnO1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBzZXJpYWxpemUgZnJvbSAnc2VyaWFsaXplLWphdmFzY3JpcHQnO1xuaW1wb3J0IHsgU3RhdGljUm91dGVyLCBtYXRjaFBhdGggfSBmcm9tICdyZWFjdC1yb3V0ZXItZG9tJztcbmltcG9ydCByb3V0ZXMgZnJvbSAnLi4vc2hhcmVkL3JvdXRlcyc7XG5cbmNvbnN0IGFwcCA9IGV4cHJlc3MoKVxuXG5hcHAudXNlKGNvcnMoKSlcblxuYXBwLnVzZShleHByZXNzLnN0YXRpYyhcInB1YmxpY1wiKSlcblxuYXBwLmdldChcIipcIiwgKHJlcSxyZXMsbmV4dCkgPT57XG4gIGNvbnN0IGFjdGl2ZVJvdXRlID0gcm91dGVzLmZpbmQoKHJvdXRlKSA9PiBtYXRjaFBhdGgocmVxLnVybCwgcm91dGUpKSB8fCB7fVxuICBjb25zdCBwcm9taXNlID0gYWN0aXZlUm91dGUuZmV0Y2hJbml0aWFsRGF0YSA/IGFjdGl2ZVJvdXRlLmZldGNoSW5pdGlhbERhdGEocmVxLnBhdGgpIDogUHJvbWlzZS5yZXNvbHZlKCk7XG5cbiAgcHJvbWlzZS50aGVuKChkYXRhKSA9PiB7XG4gICAgICBjb25zdCBjb250ZXh0ID0ge1xuICAgICAgICBkYXRhXG4gICAgICB9XG4gICAgICBjb25zdCBtYXJrdXAgPSByZW5kZXJUb1N0cmluZyhcbiAgICAgICAgPFN0YXRpY1JvdXRlciBsb2NhdGlvbj17cmVxLnVybH0gY29udGV4dD17Y29udGV4dH0+XG4gICAgICAgICAgPEFwcCBkYXRhPXtkYXRhfSAvPlxuICAgICAgICA8L1N0YXRpY1JvdXRlcj5cbiAgICAgIClcblxuICAgICAgcmVzLnNlbmQoYFxuICAgICAgPCFET0NUWVBFIGh0bWw+XG4gICAgICA8aHRtbD5cbiAgICAgICAgPGhlYWQ+XG4gICAgICAgICAgPHRpdGxlPlNTUiB3aXRoIFJSPC90aXRsZT5cbiAgICAgICAgICA8c2NyaXB0IHNyYz1cIi9idW5kbGUuanNcIiBkZWZlcj48L3NjcmlwdD5cbiAgICAgICAgICA8c2NyaXB0PndpbmRvdy5fX0lOSVRJQUxfREFUQV9fID0gJHtzZXJpYWxpemUoZGF0YSl9PC9zY3JpcHQ+XG4gICAgICAgIDwvaGVhZD5cblxuICAgICAgICA8Ym9keT5cbiAgICAgICAgICA8ZGl2IGlkPVwiYXBwXCI+JHttYXJrdXB9PC9kaXY+XG4gICAgICAgIDwvYm9keT5cbiAgICAgIDwvaHRtbD5cbiAgICBgKVxuICB9KS5jYXRjaChuZXh0KVxufSlcblxuXG5hcHAubGlzdGVuKDMwMDAsICgpID0+IHtcbiAgY29uc29sZS5sb2coYFNlcnZlciBpcyBsaXN0ZW5pbmcgb24gcG9ydDogMzAwMGApXG59KSIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIjtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gTm9tYXRjaCgpIHtcbiAgcmV0dXJuIChcbiAgICA8ZGl2PlxuICAgICAgRm91ciBPaCBGb3VyXG4gICAgPC9kaXY+XG4gIClcbn0iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgTmF2TGluayB9IGZyb20gJ3JlYWN0LXJvdXRlci1kb20nO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBOYXZiYXIoKSB7XG4gIGNvbnN0IGxhbmd1YWdlcyA9IFtcbiAgICB7XG4gICAgICBuYW1lOidBbGwnLFxuICAgICAgcGFyYW06J2FsbCdcbiAgICB9LFxuICAgIHtcbiAgICAgIG5hbWU6J0phdmFzY3JpcHQnLFxuICAgICAgcGFyYW06J2phdmFzY3JpcHQnXG4gICAgfSxcbiAgICB7XG4gICAgICBuYW1lOidSdWJ5JyxcbiAgICAgIHBhcmFtOidydWJ5J1xuICAgIH0sXG4gICAge1xuICAgICAgbmFtZTonUHl0aG9uJyxcbiAgICAgIHBhcmFtOidweXRob24nXG4gICAgfSxcbiAgICB7XG4gICAgICBuYW1lOidKYXZhJyxcbiAgICAgIHBhcmFtOidqYXZhJ1xuICAgIH1cbiAgXVxuXG4gIHJldHVybiAoXG4gICAgPHVsPlxuICAgIHtcbiAgICAgIGxhbmd1YWdlcy5tYXAoKHtuYW1lLCBwYXJhbX0pID0+IChcbiAgICAgICAgPGxpIGtleT17cGFyYW19PlxuICAgICAgICAgIDxOYXZMaW5rIGFjdGl2ZVN0eWxlPXt7Zm9udFdlaWdodDonYm9sZCd9fSB0bz17YC9wb3B1bGFyLyR7cGFyYW19YH0+XG4gICAgICAgICAgICAge25hbWV9XG4gICAgICAgICAgPC9OYXZMaW5rPlxuICAgICAgICA8L2xpPlxuICAgICAgKSlcbiAgICB9XG4gICAgPC91bD5cbiAgKVxufSJdLCJzb3VyY2VSb290IjoiIn0=